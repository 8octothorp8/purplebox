<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Link Finder (CORS Fixed)</title>
<style>
  body { font-family: sans-serif; padding: 20px; }
  input { width: 300px; padding: 5px; }
  button { padding: 6px 10px; }
  ul { margin-top: 20px; }
</style>
</head>
<body>

<h2>Link Finder</h2>

<input id="url" placeholder="Enter a URL">
<button onclick="findLinks()">Search</button>

<ul id="results"></ul>

<script>
async function findLinks() {
  const url = document.getElementById("url").value;
  const results = document.getElementById("results");
  results.innerHTML = "";

  try {
    // Use a CORS proxy to bypass browser restrictions
    const proxyURL = "https://api.allorigins.win/get?url=" + encodeURIComponent(url);
    const res = await fetch(proxyURL);
    const data = await res.json();
    
    // data.contents contains the raw HTML
    const parser = new DOMParser();
    const doc = parser.parseFromString(data.contents, "text/html");

    const links = [...doc.querySelectorAll("a")];

    if (links.length === 0) {
      results.innerHTML = "<li>No links found.</li>";
      return;
    }

    links.forEach(a => {
      const li = document.createElement("li");
      li.textContent = a.href;
      results.appendChild(li);
    });

  } catch (err) {
    results.innerHTML = "<li>Error fetching page (even with proxy).</li>";
  }
}
</script>

</body>
</html>
